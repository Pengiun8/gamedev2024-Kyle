<body id="myBody" style="background-repeat:repeat; background-size: 80%" background="myBackground01.jpg">

<h1 align="center">t2a23-Game-Template-by-Kyle</h1>
<br><br><br><br>

<!-- Movement Control Table -->
<table border="1" align="center">
    <tr>
        <td></td>
        <td><input type="button" value="Up (W)" onclick="moveImage('up')"></td>
        <td></td>
    </tr>
    <tr>
        <td><input type="button" value="Left (A)" onclick="moveImage('left')"></td>
        <td></td>
        <td><input type="button" value="Right (D)" onclick="moveImage('right')"></td>
    </tr>
    <tr>
        <td></td>
        <td><input type="button" value="Down (S)" onclick="moveImage('down')"></td>
        <td></td>
    </tr>
</table>

<h1 align="center">Auto Move</h1>

<!-- Auto Move Control Table -->
<table border="1" align="center">
    <tr>
        <td></td>
        <td><input type="button" value="Auto Up (Shift + W)" onclick="autoMove('up')"></td>
        <td></td>
    </tr>
    <tr>
        <td><input type="button" value="Auto Left (Shift + A)" onclick="autoMove('left')"></td>
        <td><input type="button" value="Stop (Space)" onclick="stopMove()"></td>
        <td><input type="button" value="Auto Right (Shift + D)" onclick="autoMove('right')"></td>
    </tr>
    <tr>
        <td></td>
        <td><input type="button" value="Auto Down (Shift + S)" onclick="autoMove('down')"></td>
        <td></td>
    </tr>
</table>
<br><br>

<script>
   // global variables here
   let myGlobalX = 0;
   let myClock;
   let myClock02;

   // global functions here
   function myHitOther(my1, my2) {
       let left1 = parseInt(document.getElementById(my1).style.left);
       let right1 = left1 + parseInt(document.getElementById(my1).style.width);
       let top1 = parseInt(document.getElementById(my1).style.top);
       let bottom1 = top1 + parseInt(document.getElementById(my1).style.height);

       let left2 = parseInt(document.getElementById(my2).style.left);
       let right2 = left2 + parseInt(document.getElementById(my2).style.width);
       let top2 = parseInt(document.getElementById(my2).style.top);
       let bottom2 = top2 + parseInt(document.getElementById(my2).style.height);

       // Return true if a collision is detected
       if ((right1 >= left2) && (bottom1 >= top2) && (left1 <= right2) && (top1 <= bottom2)) {
           return true;
       }
       return false;
   }

   function myCheckHit() {
       if (myHitOther('myImg01', 'myImg02')) {
           alert('You lose 2');
           document.getElementById('myImg01').style.left = '20px';
           location = 'https://www.google.ca';
       }
       if (myHitOther('myImg01', 'myImg03')) {
           alert('You lose 3');
           document.getElementById('myImg01').style.left = '20px';
       }
   }

   // Function to move image and update positions of following images
   function moveImage(direction) {
       let img = document.getElementById('myImg01');
       let step = 3;  // Smaller step size for smoother movement
       let left = parseInt(img.style.left, 10) || 0;
       let top = parseInt(img.style.top, 10) || 0;

       // Move the image in the given direction
       switch (direction) {
           case 'right':
               img.style.left = (left + step) + 'px';
               break;
           case 'left':
               img.style.left = (left - step) + 'px';
               break;
           case 'up':
               img.style.top = (top - step) + 'px';
               break;
           case 'down':
               img.style.top = (top + step) + 'px';
               break;
       }

       // After moving, check for collisions
       myCheckHit();

       // Update positions of myImg02 and myImg03 to smoothly follow myImg01
       updateFollowImages();
   }

   function autoMove(direction) {
       clearInterval(myClock02);
       let intervalTime = 10;  // More frequent updates for smoother movement
       myClock02 = setInterval(function() {
           moveImage(direction);
       }, intervalTime);  // Faster interval for smoother movement
   }

   function stopMove() {
       clearInterval(myClock02);
   }

   // Function to make myImg02 and myImg03 smoothly follow myImg01 at a slower speed
   function updateFollowImages() {
       let img1 = document.getElementById('myImg01');
       let img2 = document.getElementById('myImg02');
       let img3 = document.getElementById('myImg03');

       // Get current positions of images
       let left1 = parseInt(img1.style.left, 10);
       let top1 = parseInt(img1.style.top, 10);
       let left2 = parseInt(img2.style.left, 10);
       let top2 = parseInt(img2.style.top, 10);
       let left3 = parseInt(img3.style.left, 10);
       let top3 = parseInt(img3.style.top, 10);

       // Define offset for the following images (e.g., slightly behind or to the side)
       let offsetX2 = 100; // 100px to the right of myImg01
       let offsetY2 = 20;  // 20px below myImg01
       let offsetX3 = 200; // 200px to the right of myImg01
       let offsetY3 = 40;  // 40px below myImg01

       // Smoothly move myImg02 toward myImg01 at a slower speed
       let moveSpeed = 0.05;  // Slower speed for chasing

       // Adjust the movement speed for smoother but slower following
       img2.style.left = (left2 + (left1 + offsetX2 - left2) * moveSpeed) + 'px';
       img2.style.top = (top2 + (top1 + offsetY2 - top2) * moveSpeed) + 'px';

       // Smoothly move myImg03 toward myImg01 at a slower speed
       img3.style.left = (left3 + (left1 + offsetX3 - left3) * moveSpeed) + 'px';
       img3.style.top = (top3 + (top1 + offsetY3 - top3) * moveSpeed) + 'px';
   }

   // Keyboard controls for manual movement
   document.addEventListener('keydown', function(event) {
       switch (event.key) {
           case 'w':
               moveImage('up');
               break;
           case 'a':
               moveImage('left');
               break;
           case 's':
               moveImage('down');
               break;
           case 'd':
               moveImage('right');
               break;
           case 'W':
               autoMove('up');
               break;
           case 'A':
               autoMove('left');
               break;
           case 'S':
               autoMove('down');
               break;
           case 'D':
               autoMove('right');
               break;
           case ' ':
               stopMove();
               break;
       }
   });

</script>

<!-- Images -->
<img id="myImg01" style="position:absolute; width:100px; height:80px; top:100px; left:50px;"  src="https://th.bing.com/th/id/OIP.kbI7mjIliY65HX_iVkaCPwHaHa?rs=1&pid=ImgDetMain">
<img id="myImg02" style="position:absolute; width:100px; height:80px; top:100px; left:800px;" src="https://files.123freevectors.com/wp-content/solidbackground/traditional-royal-blue-free-solidcolor-background.jpg">
<img id="myImg03" style="position:absolute; width:100px; height:80px; top:100px; left:950px;" src="https://wallpapers.com/images/hd/yellow-square-1000-x-1000-wallpaper-012q36x57zmvf259.jpg">

</body>
