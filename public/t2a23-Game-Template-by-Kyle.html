<body id="myBody" style="background-repeat:repeat; background-size: 80%" background="myBackground01.jpg">

<h1 align=center>t2a23-Game-Template-by-Kyle</h1>
<br><br><br><br>

   <table border="1" align="center">
        <tr>
            <td></td>
            <td><input type="button" value="Up (W)" onclick="moveImage('up')"></td>
            <td></td>
        </tr>
        <tr>
            <td><input type="button" value="Left (A)" onclick="moveImage('left')"></td>
            <td></td>
            <td><input type="button" value="Right (D)" onclick="moveImage('right')"></td>
        </tr>
        <tr>
            <td></td>
            <td><input type="button" value="Down (S)" onclick="moveImage('down')"></td>
            <td></td>
        </tr>
    </table>
    <h1 align="center">Auto Move</h1>
    <table border="1" align="center">
        <tr>
            <td></td>
            <td><input type="button" value="Auto Up (Shift + W)" onclick="autoMove('up')"></td>
            <td></td>
        </tr>
        <tr>
            <td><input type="button" value="Auto Left (Shift + A)" onclick="autoMove('left')"></td>
            <td><input type="button" value="Stop (Space)" onclick="stopMove()"></td>
            <td><input type="button" value="Auto Right (Shift + D)" onclick="autoMove('right')"></td>
        </tr>
        <tr>
            <td></td>
            <td><input type="button" value="Auto Down (Shift + S)" onclick="autoMove('down')"></td>
            <td></td>
        </tr>
    </table>
    <br><br>

<script>

// global variables here
let myGlobalX = 0;
let myClock;
let trackingClock; // For tracking boxes 2 and 3

// global functions here
function myHitOther(my1, my2) {
   let left1   = parseInt(document.getElementById(my1).style.left);
   let right1  = left1 + parseInt(document.getElementById(my1).style.width);
   let top1    = parseInt(document.getElementById(my1).style.top);   
   let bottom1 = top1   + parseInt(document.getElementById(my1).style.height);
   let left2   = parseInt(document.getElementById(my2).style.left);
   let right2  = left2 + parseInt(document.getElementById(my2).style.width);
   let top2    = parseInt(document.getElementById(my2).style.top);   
   let bottom2 = top2   + parseInt(document.getElementById(my2).style.height);
   if ((right1  >=  left2  ) &&       
       (bottom1 >=  top2   ) &&
       (left1   <=  right2 ) &&
       (top1    <=  bottom2)) {
       return true;
   }
}

function myCheckHit(){
   if ( myHitOther('myImg01', 'myImg02') ){
       alert('you lose 2');  
       document.getElementById('myImg01').style.left = '20px';
       location = 'https://www.google.ca';
   }
   if ( myHitOther('myImg01', 'myImg03') ){
       alert('you lose 3');  
       document.getElementById('myImg01').style.left = '20px';
   }
}  // end of myCheckHit()

let myClock02;

function moveImage(direction) {
    let img = document.getElementById('myImg01');
    let step = 3;  // Smaller step size for smoother movement
    let left = parseInt(img.style.left, 10) || 0;
    let top = parseInt(img.style.top, 10) || 0;

    // Move the image in the given direction
    switch (direction) {
        case 'right':
            img.style.left = (left + step) + 'px';
            break;
        case 'left':
            img.style.left = (left - step) + 'px';
            break;
        case 'up':
            img.style.top = (top - step) + 'px';
            break;
        case 'down':
            img.style.top = (top + step) + 'px';
            break;
    }

    // After moving, check for collisions
    myCheckHit();
}

function autoMove(direction) {
    clearInterval(myClock02);
    let intervalTime = 10;  // More frequent updates for smoother movement
    myClock02 = setInterval(function() {
        moveImage(direction);
    }, intervalTime);  // Faster interval for smoother movement
}

function stopMove() {
    clearInterval(myClock02);
}

// Function to make boxes 2 and 3 track towards target (box 1)
function trackBoxTowardsTarget() {
    let box1 = document.getElementById('myImg01');
    let box2 = document.getElementById('myImg02');
    let box3 = document.getElementById('myImg03');
    let step = 0.5; // Smaller step size for smoother tracking

    // Get current positions of the boxes
    let left1 = parseInt(box1.style.left, 10);
    let top1 = parseInt(box1.style.top, 10);

    let left2 = parseInt(box2.style.left, 10);
    let top2 = parseInt(box2.style.top, 10);

    let left3 = parseInt(box3.style.left, 10);
    let top3 = parseInt(box3.style.top, 10);

    // Move box 2 towards box 1 (X and Y axis tracking)
    if (left2 < left1) box2.style.left = (left2 + step) + 'px';
    if (left2 > left1) box2.style.left = (left2 - step) + 'px';
    if (top2 < top1) box2.style.top = (top2 + step) + 'px';
    if (top2 > top1) box2.style.top = (top2 - step) + 'px';

    // Move box 3 towards box 1 (X and Y axis tracking)
    if (left3 < left1) box3.style.left = (left3 + step) + 'px';
    if (left3 > left1) box3.style.left = (left3 - step) + 'px';
    if (top3 < top1) box3.style.top = (top3 + step) + 'px';
    if (top3 > top1) box3.style.top = (top3 - step) + 'px';

    // After tracking, check for collisions
    myCheckHit();
}

// Start tracking boxes 2 and 3 towards box 1
function startTracking() {
    if (trackingClock) clearInterval(trackingClock); // Ensure only one tracking loop runs
    trackingClock = setInterval(trackBoxTowardsTarget, 30); // Track every 30ms
}

// Stop tracking boxes 2 and 3
function stopTracking() {
    clearInterval(trackingClock);
}

function resizeImage(event) {
    let img = document.getElementById('myImage01');
    let width = parseInt(img.style.width, 10) || 100;
    let height = parseInt(img.style.height, 10) || 80;
    let delta = event.deltaY > 0 ? -10 : 10;

    img.style.width = (width + delta) + 'px';
    img.style.height = (height + delta) + 'px';
}

document.addEventListener('keydown', function(event) {
    switch (event.key) {
        case 'w':
            moveImage('up');
            break;
        case 'a':
            moveImage('left');
            break;
        case 's':
            moveImage('down');
            break;
        case 'd':
            moveImage('right');
            break;
        case 'W':
            autoMove('up');
            break;
        case 'A':
            autoMove('left');
            break;
        case 'S':
            autoMove('down');
            break;
        case 'D':
            autoMove('right');
            break;
        case ' ':
            stopMove();
            break;
    }
});

document.addEventListener('wheel', resizeImage);

</script>

<img id="myImg01" style="position:absolute; width:100px; height:80px; top:0px; left:50px;"  src="https://th.bing.com/th/id/OIP.kbI7mjIliY65HX_iVkaCPwHaHa?rs=1&pid=ImgDetMain">
<img id="myImg02" style="position:absolute; width:100px; height:80px; top:0px; left:250px;" src="https://files.123freevectors.com/wp-content/solidbackground/traditional-royal-blue-free-solidcolor-background.jpg">
<img id="myImg03" style="position:absolute; width:100px; height:80px; top:0px; left:500px;" src="https://wallpapers.com/images/hd/yellow-square-1000-x-1000-wallpaper-012q36x57zmvf259.jpg">

<input type="button" value="Start Tracking" onclick="startTracking()">
<input type="button" value="Stop Tracking" onclick="stopTracking()">

</body>
